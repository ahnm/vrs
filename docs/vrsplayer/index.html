<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<title data-react-helmet="true">The vrsplayer App | VRS</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://facebookresearch.github.io/vrs/docs/vrsplayer"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="The vrsplayer App | VRS"><meta data-react-helmet="true" name="description" content="The vrsplayer app lets you &quot;play&quot; a VRS like a multi-stream video, with audio if an audio stream is present."><meta data-react-helmet="true" property="og:description" content="The vrsplayer app lets you &quot;play&quot; a VRS like a multi-stream video, with audio if an audio stream is present."><link data-react-helmet="true" rel="icon" href="/vrs/img/VRS-Icon.svg"><link data-react-helmet="true" rel="canonical" href="https://facebookresearch.github.io/vrs/docs/vrsplayer"><link data-react-helmet="true" rel="alternate" href="https://facebookresearch.github.io/vrs/docs/vrsplayer" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://facebookresearch.github.io/vrs/docs/vrsplayer" hreflang="x-default"><link rel="stylesheet" href="/vrs/assets/css/styles.92e5fbc5.css">
<link rel="preload" href="/vrs/assets/js/runtime~main.345219aa.js" as="script">
<link rel="preload" href="/vrs/assets/js/main.a4554855.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script>
<div style="display: none; text-align: center; background-color: white; color: black;" id="internaldocs-banner"></div><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/vrs/"><div class="navbar__logo"><img src="/vrs/img/VRS-Icon.svg" alt="VRS Logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/vrs/img/VRS-Icon.svg" alt="VRS Logo" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">VRS</b></a><a class="navbar__item navbar__link navbar__link--active" href="/vrs/docs/Overview">Documentation</a><a href="/vrs/doxygen/index.html" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>API Documentation<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://github.com/facebookresearch/vrs#getting-started" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Build Instructions<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebookresearch/vrs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">ðŸŒœ</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">ðŸŒž</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/vrs/docs/Overview">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/vrs/docs/Organization">Organization</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/vrs/docs/FileStructure">File Structure</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/vrs/docs/FileCreation">File Creation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/vrs/docs/FilePlayback">File Playback</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/vrs/docs/RecordFormat">Record Format</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/vrs/docs/ImageSupport">Image Support</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/vrs/docs/FileHandler">The FileHandler Interface</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/vrs/docs/VrsCliTool">The vrs Command Line Tool</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/vrs/docs/vrsplayer">The vrsplayer App</a></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_XoVD"><div class="docItemContainer_6jsP"><article><header><h1 class="docTitle_ft6A">The vrsplayer App</h1></header><div class="markdown"><p>The <code>vrsplayer</code> app lets you &quot;play&quot; a VRS like a multi-stream video, with audio if an audio stream is present.</p><p><img alt="vrsplayer" src="/vrs/assets/images/vrsplayer-6ccda86bafe40eb2a137fe42c9590e21.png"></p><p>With the <code>vrsplayer</code> app, you can open VRS files that follow the <code>DataLayout</code> conventions described in the Image Support section.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="playback-controls">Playback Controls<a class="hash-link" href="#playback-controls" title="Direct link to heading">â€‹</a></h2><p>To play/pause/stop playback, use the following controls.</p><p><img alt="Playback Controls" src="/vrs/assets/images/Controls-e40ff914647c279ee19fd69612fe812c.png"></p><p>The Previous and Next Frame buttons will play at most one frame backward or forward for each visible stream. The Speed controls let you chose to play slower or faster. Obviously, if there is too much data to process for your system, frames will be dropped.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="overlay-selection">Overlay Selection<a class="hash-link" href="#overlay-selection" title="Direct link to heading">â€‹</a></h2><p>The overlay selector lets you chose what information to display over the frames. Chose &quot;Hide&quot; to show nothing, chose &quot;Tags&quot; to show streams tags, chose &quot;Configuration&quot;, &quot;State&quot; or &quot;Data&quot; to show the metadata found in the last record of that type.</p><p><img alt="Overlay Control" src="/vrs/assets/images/OverlayPopup-f8686615149c3067af51d51cff4b45c1.png"></p><p>The <code>vrsplayer</code> app is improved regularly, so it&#x27;s important to be able to discover functionality directly from the app&#x27;s user interface. The following sections show less obvious features and controls.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="tooltips">Tooltips<a class="hash-link" href="#tooltips" title="Direct link to heading">â€‹</a></h2><p>To know the duration of the image data, use the tooltip found over the time display.</p><p>Note that the start and end times show the time range in which image or audio data was found. Streams that don&#x27;t contain image or audio data are ignored, and only data records from image and audio streams are considered. So if a recording contains a single image stream that has a configuration record at timestamp 0 rather than just before the first data record (as is too often the practice), while the first data record is at timestamp 15, the playback start time will be 15.</p><p><img alt="Duration tooltip" src="/vrs/assets/images/DurationTooltip-4053839eb52580dec7abb09b1b1dca32.png"></p><p>The tooltip shown over frames shows the stream&#x27;s ID (&quot;214-1&quot;), the <code>RecordableTypeId</code> name (&quot;RGB Camera Class&quot;), its flavor (if any, here &quot;device/aria&quot;), and if a stream tag named <code>&quot;device_type&quot;</code> is found, the device type (&quot;Simulated&quot;).</p><p><img alt="Stream tooltip" src="/vrs/assets/images/StreamTooltip-a6ce3dad24a416dc215f939bf4605c29.png"></p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="menu-bar-commands">Menu Bar Commands<a class="hash-link" href="#menu-bar-commands" title="Direct link to heading">â€‹</a></h2><p>The Menu Bar offers functionality available only there, don&#x27;t forget to look there!</p><p>The <code>Layout</code> menu&#x27;s top section let you save and manage presets. Save your favorite stream display configurations, including stream orientation, stream order, which streams are visible or hidden, using the <code>Save Preset</code> command. To arrange streams, see the Context Menu section below.</p><p>The commands in the lower section let you control in how many row of how many views the streams will be arranged. <code>Layout Frames 4x2</code> means using 2 rows with up to 4 streams each. The layout configurations offered depend on the number of image streams visible.</p><p><img alt="Layout Menu, default" src="/vrs/assets/images/LayoutMenuDefault-57dd27f99941babcc2e72d4b8907742a.png"></p><p>Once at least one preset has been saved, you can recall or delete presets, which automatically get a keyboard shortcut for quick access.</p><p><img alt="Layout Menu, with presets" src="/vrs/assets/images/LayoutMenuWithPreset-6070dd108ced87911620baf1adec26e6.png"></p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="context-menu">Context Menu<a class="hash-link" href="#context-menu" title="Direct link to heading">â€‹</a></h2><p>Control the rotation and orientation of each stream using the context menu shown when right-clicking on each stream. The same menu lets you reorder streams, by bumping the chosen stream up or down one position in the order. You can also hide streams from this context menu. The last option lets you save the visible frame as png or jpg file.</p><p><img alt="Frame Context Menu" src="/vrs/assets/images/FrameContextMenu-9e9ec43f0e40e387e291790f006d948c.png"></p><p>To unhide streams, use one of the <code>Layout</code> menu commands that appear once at least one stream has been hidden.</p><p><img alt="Layout Menu, when at least one stream is hidden" src="/vrs/assets/images/LayoutMenuHiddenStream-9e3049edaf9b8c6d2950cfbd0ac1a291.png"></p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="playback-fps-display">Playback &quot;fps&quot; Display<a class="hash-link" href="#playback-fps-display" title="Direct link to heading">â€‹</a></h2><p>Normal playback tries to flow at timestamp speed, and frames will be dropped easily at different stages if needed to keep up. At the bottom of each view, you will find an individual fps counter, with 3 parts:</p><p><img alt="fps display" src="/vrs/assets/images/FpsDisplay-b3ffd0f3cd5a6a7d0235c4d5108220f4.png"></p><ul><li>the first number (16) is the count of records read from disk per second. During playback, it should be the highest of all the counters. That step includes reading data from storage, lossless decompression, data interpretation and <code>StreamPlayer</code> callbacks processing. Reading files is a single threaded operation (as file APIs typically are), so this work is done by same thread for all streams, which is no decoding or conversion work is done on that thread.</li><li>the second number (4) is count of frames &quot;decoded&quot; per second. If images are encoded (jpg/png) they will be decoded. Then if the frames needs to be transcoded to a different pixel format for display, they&#x27;ll be converted to a Qt friendly pixel format. If processing is too expensive, frames might be skipped at that stage. That second number can only be equal or lower than the first. This processing is happening on a dedicated thread for each stream.</li><li>the last number (2) is the &quot;display&quot; fps (&quot;frames per second&quot;), which is the number of times the code that draws the frame in the Qt widget is called each second. During playback, the number should be equal or lower than the second, but if you resize the windows, that number can go way up, as even if playback is paused and the two first are frozen, this counter will be updated as the window is updated. All draw operations happen in the app&#x27;s single UI thread.</li></ul><p>Putting it all together, for replay, one thread reads the files and extracts the raw image data, one thread draws the processed images in the user interface, but each stream has its own thread to do its image processing independently.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="keyboard-playback-controls">Keyboard Playback Controls<a class="hash-link" href="#keyboard-playback-controls" title="Direct link to heading">â€‹</a></h2><p>Playback can be directly controlled from the keyboard:</p><ul><li>Use the space bar to play/pause replay.</li><li>The backspace and the home keys will reset playback to the start of the file, much like the Stop button.</li><li>The left and right arrow keys will read at most one frame per stream, in either direction.</li><li>The up and down arrow keys will jump at most 10 frames, in either direction.</li><li>The page-up and page-down keys will jump at most 100 frames, in either direction.</li></ul><p>When using the arrow keys, all frames are guaranteed to be read. Use this feature if you want to be sure to view every frame of your file.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/facebookresearch/vrs/edit/main/website/docs/vrsplayer.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#playback-controls" class="table-of-contents__link toc-highlight">Playback Controls</a></li><li><a href="#overlay-selection" class="table-of-contents__link toc-highlight">Overlay Selection</a></li><li><a href="#tooltips" class="table-of-contents__link toc-highlight">Tooltips</a></li><li><a href="#menu-bar-commands" class="table-of-contents__link toc-highlight">Menu Bar Commands</a></li><li><a href="#context-menu" class="table-of-contents__link toc-highlight">Context Menu</a></li><li><a href="#playback-fps-display" class="table-of-contents__link toc-highlight">Playback &quot;fps&quot; Display</a></li><li><a href="#keyboard-playback-controls" class="table-of-contents__link toc-highlight">Keyboard Playback Controls</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Learn</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/vrs/docs/Overview">Documentation</a></li><li class="footer__item"><a href="https://github.com/facebookresearch/vrs/tree/main/sample_code" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Sample Code<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Legal</div><ul class="footer__items"><li class="footer__item"><a href="https://opensource.facebook.com/legal/privacy/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Privacy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://opensource.facebook.com/legal/terms/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Terms<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Legal (continued)</div><ul class="footer__items"><li class="footer__item"><a href="https://opensource.facebook.com/legal/data-policy/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Data Policy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://opensource.facebook.com/legal/cookie-policy/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Cookie Policy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://opensource.facebook.com" target="_blank" rel="noopener noreferrer" class="footerLogoLink_SRtH"><img src="/vrs/img/oss_logo.png" alt="Facebook Open Source Logo" class="themedImage_TMUO themedImage--light_4Vu1 footer__logo"><img src="/vrs/img/oss_logo.png" alt="Facebook Open Source Logo" class="themedImage_TMUO themedImage--dark_uzRr footer__logo"></a></div><div class="footer__copyright">Copyright Â© 2022 Meta Platforms, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/vrs/assets/js/runtime~main.345219aa.js"></script>
<script src="/vrs/assets/js/main.a4554855.js"></script>
</body>
</html>